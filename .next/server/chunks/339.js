exports.id=339,exports.ids=[339],exports.modules={8481:(a,b,c)=>{"use strict";c.d(b,{CRMProvider:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call CRMProvider() from the server but CRMProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Downloads\\crm-dashboard-system-main\\crm-dashboard-system-main\\app\\contexts\\CRMContext.tsx","CRMProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useCRM() from the server but useCRM is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Downloads\\crm-dashboard-system-main\\crm-dashboard-system-main\\app\\contexts\\CRMContext.tsx","useCRM")},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>h});var d=c(75338),e=c(42003),f=c.n(e);c(82704);var g=c(8481);let h={title:"CRM Analytics Pro - Dashboard Inteligente",description:"Sistema CRM avan\xe7ado com intelig\xeancia artificial para an\xe1lise de dados e tomada de decis\xf5es empresariais",keywords:"CRM, Analytics, Dashboard, Business Intelligence, Vendas, Clientes",authors:[{name:"CRM Analytics Pro"}],viewport:"width=device-width, initial-scale=1",themeColor:"#3b82f6",manifest:"/manifest.json"};function i({children:a}){return(0,d.jsxs)("html",{lang:"pt-BR",className:"h-full",children:[(0,d.jsxs)("head",{children:[(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"})]}),(0,d.jsx)("body",{className:`${f().className} h-full bg-gray-50 antialiased`,children:(0,d.jsx)(g.CRMProvider,{children:(0,d.jsx)("div",{className:"min-h-full",children:a})})})]})}},18310:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},25459:(a,b,c)=>{"use strict";c.d(b,{CRMProvider:()=>i,m:()=>j});var d=c(21124),e=c(38301);let f={baseUrl:"https://crm.conectaprime.com",apiToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6InN0YXRpYy1hZG1pbi1pZCIsImVtYWlsIjoiYWRtaW5Ac2VndWlkb3Jlc3ByaW1lLmNvbSIsInJvbGUiOiJhZG1pbiIsInBlcm1pc3NvZXMiOlsiSGlzdMOzcmljbyBkZSBFbnZpb3MiLCJSZWFsaXphciBFbnZpb3MiXSwiaWF0IjoxNzUxNDkwNDk3fQ.FNSAlVtFjpZVTYvkjEVXRRghvTscU0sqdP6H9mk_KgI",autoSync:!0,syncInterval:5},g={connected:!1,lastTest:null,error:null,responseTime:null},h=(0,e.createContext)(void 0);function i({children:a}){let[b,c]=(0,e.useState)(f),[i,j]=(0,e.useState)(g),[k,l]=(0,e.useState)(!1),m=async()=>{l(!0);let a=Date.now();try{let c=await fetch("/api/crm-integration?type=test",{method:"GET",headers:{"X-CRM-URL":b.baseUrl,"X-CRM-TOKEN":b.apiToken}}),d=Date.now()-a,e=await c.json();e.success?j({connected:!0,lastTest:new Date,error:null,responseTime:d}):j({connected:!1,lastTest:new Date,error:e.error||"Erro na conex\xe3o",responseTime:d})}catch(b){j({connected:!1,lastTest:new Date,error:b instanceof Error?b.message:"Erro de rede",responseTime:Date.now()-a})}finally{l(!1)}},n=async()=>{l(!0);try{localStorage.setItem("crm-config",JSON.stringify(b)),await m()}catch(a){}finally{l(!1)}};return(0,d.jsx)(h.Provider,{value:{config:b,setConfig:c,status:i,setStatus:j,isLoading:k,setIsLoading:l,testConnection:m,saveConfig:n},children:a})}function j(){let a=(0,e.useContext)(h);if(void 0===a)throw Error("useCRM deve ser usado dentro de um CRMProvider");return a}},45188:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},59268:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},72567:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},72880:(a,b,c)=>{Promise.resolve().then(c.bind(c,25459))},73625:(a,b,c)=>{"use strict";c.d(b,{KO:()=>g,_3:()=>e,q2:()=>f});var d=c(38301);function e(){let[a,b]=(0,d.useState)({data:null,loading:!1,error:null,lastSync:null}),c=(0,d.useCallback)(async(a,c)=>{b(a=>({...a,loading:!0,error:null}));try{let b=new URLSearchParams({type:a,...c}),d=await fetch(`/api/crm-integration?${b}`),e=await d.json();if(!e.success)throw Error(e.error||"Erro ao buscar dados do CRM");return e.data}catch(c){let a=c instanceof Error?c.message:"Erro desconhecido";throw b(b=>({...b,error:a,loading:!1})),c}},[]),e=(0,d.useCallback)(async(a,d)=>{try{let e={};a&&(e.startDate=a),d&&(e.endDate=d);let f=await c("dashboard",e);return b(a=>({...a,data:f,loading:!1,error:null,lastSync:new Date})),f}catch(a){throw b(a=>({...a,loading:!1})),a}},[c]),f=(0,d.useCallback)(async a=>await c("customers",a),[c]),g=(0,d.useCallback)(async(a,b)=>await c("sales",{startDate:a,endDate:b}),[c]),h=(0,d.useCallback)(async()=>await c("products"),[c]),i=(0,d.useCallback)(async(a,b)=>await c("analytics",{startDate:a,endDate:b}),[c]),j=(0,d.useCallback)(async a=>{b(a=>({...a,loading:!0,error:null}));try{let c=await fetch("/api/crm-integration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"sync-customers",data:{customerIds:a}})}),d=await c.json();if(!d.success)throw Error(d.error||"Erro ao sincronizar clientes");return b(a=>({...a,loading:!1,lastSync:new Date})),d.results}catch(c){let a=c instanceof Error?c.message:"Erro desconhecido";throw b(b=>({...b,error:a,loading:!1})),c}},[]),k=(0,d.useCallback)(async(a,c)=>{try{let b=await fetch("/api/crm-integration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update-tags",data:{customerId:a,tags:c}})}),d=await b.json();if(!d.success)throw Error(d.error||"Erro ao atualizar tags");return d.data}catch(c){let a=c instanceof Error?c.message:"Erro desconhecido";throw b(b=>({...b,error:a})),c}},[]),l=(0,d.useCallback)(()=>{e()},[e]),m=(0,d.useCallback)(()=>{b(a=>({...a,error:null}))},[]);return{data:a.data,loading:a.loading,error:a.error,lastSync:a.lastSync,fetchDashboardData:e,fetchCustomers:f,fetchSales:g,fetchProducts:h,fetchAnalytics:i,syncCustomers:j,updateCustomerTags:k,refresh:l,clearError:m,isConnected:!a.error&&null!==a.data,hasData:null!==a.data,metrics:a.data?.metrics||{totalCustomers:0,totalSales:0,totalProducts:0,averageTicket:0,conversionRate:0}}}function f(){let[a,b]=(0,d.useState)([]),[c,e]=(0,d.useState)(!1),[f,g]=(0,d.useState)(null);return{customers:a,loading:c,error:f,reload:(0,d.useCallback)(async a=>{e(!0),g(null);try{let c=new URLSearchParams({type:"customers",...a}),d=await fetch(`/api/crm-integration?${c}`),e=await d.json();if(!e.success)throw Error(e.error||"Erro ao buscar dados do CRM");b(e.data||[])}catch(a){g(a instanceof Error?a.message:"Erro ao carregar clientes")}finally{e(!1)}},[]),total:a.length}}function g(a,b){let[c,e]=(0,d.useState)([]),[f,g]=(0,d.useState)(!1),[h,i]=(0,d.useState)(null),j=(0,d.useCallback)(async()=>{if(a&&b){g(!0),i(null);try{let c=new URLSearchParams({type:"sales",startDate:a,endDate:b}),d=await fetch(`/api/crm-integration?${c}`),f=await d.json();if(!f.success)throw Error(f.error||"Erro ao buscar dados do CRM");e(f.data||[])}catch(a){i(a instanceof Error?a.message:"Erro ao carregar vendas")}finally{g(!1)}}},[a,b]);return{sales:c,loading:f,error:h,reload:j,total:c.reduce((a,b)=>a+(b.valor||0),0)}}},75044:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},79504:(a,b,c)=>{Promise.resolve().then(c.bind(c,8481))},82704:()=>{},89023:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])}};